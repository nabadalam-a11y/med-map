Enter<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <title>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Å–∫–ª–∞–¥</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f6f8;
      color: #333;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    .header {
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .subheader {
      text-align: center;
      font-size: 16px;
      color: #666;
    }
    .med-item {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      padding: 10px;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    .med-item input {
      width: 60px;
      padding: 5px;
      margin-right: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    .btn {
      padding: 10px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn:hover {
      background-color: #0056b3;
    }
    .error {
      color: red;
      margin-top: 20px;
      text-align: center;
    }
    .success {
      color: green;
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Å–∫–ª–∞–¥</div>
  <div class="subheader" id="last-update">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –µ—â—ë –Ω–∏ —Ä–∞–∑—É –Ω–µ –±—ã–ª–æ.</div>
  
  <div id="userInfo">
    <label for="callSign">–ü–æ–∑—ã–≤–Ω–æ–π:</label>
    <input type="text" id="callSign" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–æ–∑—ã–≤–Ω–æ–π" />
    <button class="btn" id="registerBtn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
    <div id="errorMessage" class="error"></div>
  </div>

  <div id="inventory" style="display:none;">
    <div class="med-item">
      <span>üî¥ –¶–µ—Ñ—Ç—Ä–∏–∞–∫—Å–æ–Ω</span>
      <span>–µ—Å—Ç—å: <span id="ceftQty">0</span> —Ñ–ª–∞–∫., –Ω—É–∂–Ω–æ: 100 —Ñ–ª–∞–∫., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="ceftMissing">100</span> —Ñ–ª–∞–∫.</span>
      <input type="number" id="ceftInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –õ–∏–¥–æ–∫–∞–∏–Ω/–Ω–æ–≤–æ–∫–∞–∏–Ω/–≤–æ–¥–∞ –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–π</span>
      <span>–µ—Å—Ç—å: <span id="lidocQty">0</span> –∞–º–ø., –Ω—É–∂–Ω–æ: 50 –∞–º–ø., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="lidocMissing">50</span> –∞–º–ø.</span>
      <input type="number" id="lidocInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –ö–µ—Ç–æ—Ä–æ–ª –≤/–º 30 –º–≥</span>
      <span>–µ—Å—Ç—å: <span id="ketorolQty">0</span> –∞–º–ø., –Ω—É–∂–Ω–æ: 20 –∞–º–ø., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="ketorolMissing">20</span> –∞–º–ø.</span>
      <input type="number" id="ketorolInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –î–µ–∫—Å–∞–º–µ—Ç–∞–∑–æ–Ω 2‚Äì4 –º–≥</span>
      <span>–µ—Å—Ç—å: <span id="dexQty">0</span> –∞–º–ø., –Ω—É–∂–Ω–æ: 20 –∞–º–ø., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="dexMissing">20</span> –∞–º–ø.</span>
      <input type="number" id="dexInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –õ–µ–≤–æ–º–µ–∫–æ–ª—å</span>
      <span>–µ—Å—Ç—å: <span id="levomQty">0</span> —Ç—é–±., –Ω—É–∂–Ω–æ: 20 —Ç—é–±., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="levomMissing">20</span> —Ç—é–±.</span>
      <input type="number" id="levomInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –®–ø—Ä–∏—Ü—ã 5/10 –º–ª</span>
      <span>–µ—Å—Ç—å: <span id="syringeQty">0</span> —à—Ç, –Ω—É–∂–Ω–æ: 100 —à—Ç, –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="syringeMissing">100</span> —à—Ç</span>
      <input type="number" id="syringeInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –ò–±—É–ø—Ä–æ—Ñ–µ–Ω 400 –º–≥</span>
      <span>–µ—Å—Ç—å: <span id="ibuprofQty">0</span> —É–ø., –Ω—É–∂–Ω–æ: 5 —É–ø., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="ibuprofMissing">5</span> —É–ø.</span>
      <input type="number" id="ibuprofInput" value="0" min="0" />
    </div>
    <div class="med-item">
      <span>üî¥ –ö–µ—Ç–æ—Ä–æ–ª —Ç–∞–±–ª. 10 –º–≥</span>
      <span>–µ—Å—Ç—å: <span id="ketorolTabQty">0</span> —É–ø., –Ω—É–∂–Ω–æ: 5 —É–ø., –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç: <span id="ketorolTabMissing">5</span> —É–ø.</span>
      <input type="number" id="ketorolTabInput" value="0" min="0" />
    </div>

    <button class="btn" id="saveInventoryBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
    <div id="successMessage" class="success"></div>
  </div>
</div>

<script>
  const callSignInput = document.getElementById('callSign');
  const registerBtn = document.getElementById('registerBtn');
  const inventoryDiv = document.getElementById('inventory');
  const userInfoDiv = document.getElementById('userInfo');
  const lastUpdateDiv = document.getElementById('last-update');
  
  const ceftInput = document.getElementById('ceftInput');
  const lidocInput = document.getElementById('lidocInput');
  const ketorolInput = document.getElementById('ketorolInput');
  const dexInput = document.getElementById('dexInput');
  const levomInput = document.getElementById('levomInput');
  const syringeInput = document.getElementById('syringeInput');
  const ibuprofInput = document.getElementById('ibuprofInput');
  const ketorolTabInput = document.getElementById('ketorolTabInput');

  const saveInventoryBtn = document.getElementById('saveInventoryBtn');
  const errorMessageDiv = document.getElementById('errorMessage');
  const successMessageDiv = document.getElementById('successMessage');

  const medData = {
    ceft: { name: '–¶–µ—Ñ—Ç—Ä–∏–∞–∫—Å–æ–Ω', need: 100 },
    lidoc: { name: '–õ–∏–¥–æ–∫–∞–∏–Ω/–Ω–æ–≤–æ–∫–∞–∏–Ω/–≤–æ–¥–∞ –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–π', need: 50 },
    ketorol: { name: '–ö–µ—Ç–æ—Ä–æ–ª –≤/–º 30 –º–≥', need: 20 },
    dex: { name: '–î–µ–∫—Å–∞–º–µ—Ç–∞–∑–æ–Ω 2‚Äì4 –º–≥', need: 20 },
    levom: { name: '–õ–µ–≤–æ–º–µ–∫–æ–ª—å', need: 20 },
    syringe: { name: '–®–ø—Ä–∏—Ü—ã 5/10 –º–ª', need: 100 },
    ibuprof: { name: '–ò–±—É–ø—Ä–æ—Ñ–µ–Ω 400 –º–≥', need: 5 },
    ketorolTab: { name: '–ö–µ—Ç–æ—Ä–æ–ª —Ç–∞–±–ª. 10 –º–≥', need: 5 }
  };

  let user = null;

  const getUserData = () => {
    return JSON.parse(localStorage.getItem('userData')) || null;
  }

  const saveUserData = (data) => {
    localStorage.setItem('userData', JSON.stringify(data));
  }

  const updateInventoryUI = () => {
    Object.keys(medData).forEach((key) => {
      const med = medData[key];
      const currentQty = user[key] || 0;
      const missingQty = med.need - currentQty;
      const qtyElement = document.getElementById(`${key}Qty`);
      const missingElement = document.getElementById(`${key}Missing`);
      const inputElement = document.getElementById(`${key}Input`);

      qtyElement.textContent = currentQty;
      missingElement.textContent = missingQty;
      inputElement.value = currentQty;
    });

    lastUpdateDiv.textContent = `–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ${user ? user.lastUpdated : '–µ—â—ë –Ω–∏ —Ä–∞–∑—É –Ω–µ –±—ã–ª–æ.'}`;
  }

  const registerUser = () => {
    const callSign = callSignInput.value.trim();

    if (!callSign) {
      errorMessageDiv.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø–æ–∑—ã–≤–Ω–æ–π!';
      return;
    }

    user = {
      callSign,
      ceft: 0, lidoc: 0, ketorol: 0, dex: 0, levom: 0, syringe: 0, ibuprof: 0, ketorolTab: 0,
      lastUpdated: new Date().toLocaleString()
    };

    saveUserData(user);
    userInfoDiv.style.display = 'none';
    inventoryDiv.style.display = 'block';
    updateInventoryUI();
  }

  const saveInventory = () => {
    Object.keys(medData).forEach((key) => {
      const inputElement = document.getElementById(`${key}Input`);
      const newQty = parseInt(inputElement.value, 10);
      user[key] = newQty || 0;
    });

    user.lastUpdated = new Date().toLocaleString();
    saveUserData(user);
    successMessageDiv.textContent = '–ò–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!';
    updateInventoryUI();
  }

  registerBtn.addEventListener('click', registerUser);
  saveInventoryBtn.addEventListener('click', saveInventory);
</script>

</body>
</html>
